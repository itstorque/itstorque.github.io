function addEmojiAnimations(){emoji_words=document.getElementsByClassName("emoji-word");for(let e of emoji_words)e.addEventListener("click",e=>{e.target.classList.add("animation"),setTimeout(()=>{e.target.classList.remove("animation")},2e3)})}mobileMenuDisabled=!0,css_color_stylesheet=!1,css_stylesheet_counter=0,CSS_STYLESHEET_COUNTER_SWITCH=5,emojis_changed=!1,window.onbeforeunload=function(){window.scrollTo(0,0)},window.addEventListener("scroll",function(){checkSection()}),manualChangeImage=()=>{},window.addEventListener("load",async function(){loadTheme(),await replaceEmojis(),emojis_changed=!0,checkSection(),addIndividualExpands(),addMobileMenus();for(var e=document.links,t=0;t<e.length;t++)e[t].hostname!=window.location.hostname&&e[t].pathname!=window.location.pathname&&(e[t].target="_blank");nprToggle(),changeImage(),changeImageProcess=setInterval(changeImage,4e3),manualChangeImage=()=>{changeImage(),clearInterval(changeImageProcess),changeImageProcess=setInterval(changeImage,4e3)},addEmojiAnimations()});let portrait_index=-2,total_portrait_num=9;function changeImage(){if(portrait_elem=document.getElementById("portrait"),null!==portrait_elem){var e=new Image;e.src=portrait_index<0?"/resources/portraits/portrait-main.jpg":"/resources/portraits/portrait-"+(portrait_index+1)+".jpg",e.onload=function(){portrait_elem.src=e.src},portrait_index>total_portrait_num-2?portrait_index=-2:portrait_index++}}function playAudio(){new Audio("https://upload.wikimedia.org/wikipedia/commons/2/20/En-us-torque.ogg").play()}function addMobileMenus(){if(!mobileMenuDisabled)for(emoji of[...document.getElementsByClassName("title_with_emoji"),document.getElementById("hello-emoji")])emoji.addEventListener("click",function(e){document.getElementById("mobilenav").classList.toggle("active")})}function addIndividualExpands(){for(section of(k=0,document.getElementsByClassName("individual-expands")))for(sectionItem of section.children)"H4"==sectionItem.tagName?(k++,sectionItem.innerHTML=sectionItem.innerHTML+'<div class="openTab"'+k+' onclick="toggleIndivExpand(this, '+k+')"><svg xmlns="http://www.w3.org/2000/svg" width="15" height="15" viewBox="0 0 24 24"><path d="M24 10h-10v-10h-4v10h-10v4h10v10h4v-10h10z"/></svg></div>'):(sectionItem.innerHTML="<div class='expandable hidden dataID"+k+"'>"+sectionItem.innerHTML+"</div>",sectionItem.classList.add("loaded"))}function toggleIndivExpand(e,t){for(dataItem of(e.classList.toggle("opened"),e.classList.contains("opened")&&setTimeout(()=>{e.scrollIntoView({block:"start",inline:"nearest",behavior:"smooth"})},300),document.getElementsByClassName("dataID"+t)))dataItem.classList.toggle("hidden")}function checkSection(){var e=document.getElementById("education"),t=document.getElementById("teaching"),o=document.getElementById("projects"),n=document.getElementById("research");if(null!==e){var i=document.getElementById("header-indicator");deltaStrictSoft=100,window.scrollY>o.offsetTop-deltaStrictSoft?setSection("projects"):window.scrollY>n.offsetTop-deltaStrictSoft?setSection("research"):window.scrollY>t.offsetTop-deltaStrictSoft?setSection("teaching"):window.scrollY>e.offsetTop-deltaStrictSoft?setSection("education"):setSection("hello"),mobileMenuDisabled||(deltaStrict=10,window.scrollY>o.offsetTop-deltaStrict?setSectionStrict("projects"):window.scrollY>n.offsetTop-deltaStrict?setSectionStrict("research"):window.scrollY>t.offsetTop-deltaStrict?setSectionStrict("teaching"):window.scrollY>e.offsetTop-deltaStrict?setSectionStrict("education"):window.scrollY>i.offsetTop+10?setSectionStrict("hello"):setSectionStrict(""))}}function checkSectionStrict(){var e=document.getElementById("education"),t=document.getElementById("teaching"),o=document.getElementById("projects"),n=document.getElementById("research");window.scrollY>o.offsetTop-100?setSection("projects"):window.scrollY>n.offsetTop-100?setSection("research"):window.scrollY>t.offsetTop-100?setSection("teaching"):window.scrollY>e.offsetTop-100?setSection("education"):setSection("hello")}function setSection(e){for(sectionButton of document.getElementById("sidenav").children)sectionButton.classList="";document.getElementById("nav-"+e).classList="selected"}function setSectionStrict(e){for(sectionTitle of document.getElementsByClassName("title_with_emoji"))sectionTitle.classList="title_with_emoji";"hello"==e?document.getElementById("hello-emoji").classList="emoji-block activeSection":(document.getElementById("hello-emoji").classList="emoji-block",""!=e&&(document.getElementById(e).classList="title_with_emoji activeSection"))}function toggleClassList(){document.getElementById("class_list").classList.toggle("unhide"),class_list_button=document.getElementById("toggle_class_list"),document.getElementById("class_list").classList.contains("unhide")?class_list_button.innerHTML="ðŸ¤“ HIDE CLASSES":class_list_button.innerHTML="SHOW ALL CLASSES",class_list_button.classList.toggle("changing"),class_list_button.classList.toggle("changing2")}function toggleSection(e,t){for(item of("EXPAND"==e.innerHTML?e.innerHTML="COLLAPSE":e.innerHTML="EXPAND",document.getElementsByClassName(t)))item.classList.toggle("unhide")}function nprToggle(){if(k=1,nprtable=document.getElementById("nprtable"),null!==nprtable){totalk=nprtable.children[0].children.length;window.setInterval(function(){document.getElementById("nprtable").children[0].children[k].hidden=!1,document.getElementById("nprtable").children[0].children[(5+k-1)%totalk].hidden=!0,k=(k+1)%totalk},3e3)}}function playAudioGif(){new Audio("https://upload.wikimedia.org/wikipedia/commons/4/48/En-us-gif-2.ogg").play()}async function replaceEmojis(){matches=document.body.innerHTML.match(/\p{Extended_Pictographic}/gu),await fetch("/resources/emojis.json.gz").then(e=>e.arrayBuffer()).then(e=>{E=JSON.parse(pako.ungzip(e,{to:"string"})),D={},E.forEach(e=>{console.log(e.emoji,("https://em-content.zobj.net/source/apple/391/"+e.name.replaceAll(" ","-").replaceAll(":","")+"_"+e.unicode.replaceAll(" ","-")+".png").toLowerCase()),D[e.emoji]=("https://em-content.zobj.net/source/apple/391/"+e.name.replaceAll(" ","-").replaceAll(":","")+"_"+e.unicode.replaceAll(" ","-")+".png").toLowerCase()}),matches.forEach(e=>{console.log(e),document.body.innerHTML=document.body.innerHTML.replace(RegExp("(>[^>]*)"+e+"([^>=]*<)","g"),'$1<img alt="'+e+'" src="'+D[e]+'" style="height: 1em; margin: 0" loading="lazy" />$2')}),add_emojis_css(D)})}function add_emojis_css(e){emoji_props=Array.from(document.styleSheets).filter(e=>null===e.href||e.href.startsWith(window.location.origin)).reduce((e,t)=>[...e,...Array.from(t.cssRules).reduce((e,t)=>".emoji-word"===t.selectorText?[...e,...Array.from(t.style).filter(e=>e.startsWith("--e-"))]:e,[])],[]);var t=document.createElement("style");emoji_urls="",definitions=emoji_props.map(o=>{t.innerHTML+=".emoji-word { "+o+`: url(${e[o.replace("--e-","")]}) !important; }`,emoji_urls+=`url(${e[o.replace("--e-","")]}), `,preload_img=new Image,preload_img.src=e[o.replace("--e-","")],preload_img.onload=()=>{}}),document.head.appendChild(t)}