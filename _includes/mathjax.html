<script>
    MathJax = {
        loader: {load: ['[tex]/physics']},
        tex: {
            inlineMath: [ ['$', '$'], ['\\(', '\\)'] ],
            displayMath: [             // start/end delimiter pairs for display math
                ['$$', '$$'],
                ['\\[', '\\]']
            ],
            physics: {
                italicdiff: false,
                arrowdel: false
            },
            tags: 'ams',
            packages: {'[+]': ['physics']},
        },
        svg: {
            fontCache: 'global'
        },

        options: {
            renderActions: {
            findScript: [10, function (doc) {
                for (const node of document.querySelectorAll('script[type^="math/tex"]')) {
                const display = !!node.type.match(/; *mode=display/);
                const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
                const text = document.createTextNode('');
                node.parentNode.replaceChild(text, node);
                math.start = {node: text, delim: '', n: 0};
                math.end = {node: text, delim: '', n: 0};
                doc.math.push(math);
                }
            }, '']
            }
        }

    };
</script>
<script
    type="text/javascript" id="MathJax-script" async
    src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js">
</script>

<!-- <script type="text/javascript">
    document.addEventListener('DOMContentLoaded', function(){
        document.querySelectorAll("script[type='math/tex']").forEach(function(el){
        el.outerHTML = "\\(" + el.textContent + "\\)";
        });
        document.querySelectorAll("script[type='math/tex; mode=display']").forEach(function(el){
        el.outerHTML = "\\[" + el.textContent + "\\]";
        });
        var script = document.createElement('script');
        // script.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js";
        document.head.appendChild(script);
    }, false);
</script> -->